import{w,h as c,J as y,y as I,o as e,q as m,L as r,X as P}from"./index-B8C5BywF.js";import{b as A}from"./blog-DMsYJa6l.js";import{P as z}from"./plus-ILIKCrFz.js";import{C}from"./calendar-CamPbOK6.js";import{H as L}from"./heart-DVmanCb3.js";import{A as S}from"./arrow-right-BAujjE14.js";/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],u=w("tag",U),T=()=>{var o,i,n;const[d,g]=c.useState([]),[b,f]=c.useState(!0),[j,p]=y(),l=j.get("author"),{user:N}=I();c.useEffect(()=>{(async()=>{try{const s=await A.getAllPublic();g(s)}catch(s){console.error("Failed to fetch blog posts",s)}finally{f(!1)}})()},[]);const a=l?d.filter(t=>typeof t.authorId=="string"?t.authorId===l:typeof t.authorId=="object"&&t.authorId&&t.authorId._id?t.authorId._id===l:!1):d,k=a.length>0&&((o=a[0])!=null&&o.authorId)&&typeof a[0].authorId=="object"?`${((i=a[0].authorId)==null?void 0:i.firstName)||"Unknown"} ${((n=a[0].authorId)==null?void 0:n.lastName)||""}`:"Selected Author",v=()=>{p({})};return e.jsx("div",{className:"min-h-screen pt-24 pb-12 bg-slate-50 dark:bg-slate-950 px-4 sm:px-6 lg:px-8 transition-colors duration-500",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs(m.div,{className:"text-center mb-16",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-4",children:"The Blog"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 max-w-2xl mx-auto mb-8",children:"Thoughts on development, trading, and technology."}),N&&e.jsxs(r,{to:"/blog/editor",className:"inline-flex items-center gap-2 px-6 py-3 bg-accent-600 text-white rounded-full font-bold hover:bg-accent-700 transition-colors shadow-lg shadow-accent-600/20",children:[e.jsx(z,{size:20})," New Post"]})]}),l&&e.jsx("div",{className:"mb-8 flex justify-center",children:e.jsxs("div",{className:"inline-flex items-center gap-3 px-4 py-2 bg-accent-100 dark:bg-accent-900/30 text-accent-700 dark:text-accent-300 rounded-full border border-accent-200 dark:border-accent-800",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Filtered by: ",e.jsx("strong",{children:k})]}),e.jsx("button",{onClick:v,className:"p-1 hover:bg-accent-200 dark:hover:bg-accent-800/50 rounded-full transition-colors",children:e.jsx(P,{size:14})})]})}),b?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3].map(t=>e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl overflow-hidden shadow-sm h-96 animate-pulse border border-slate-200 dark:border-slate-800",children:[e.jsx("div",{className:"h-48 bg-slate-200 dark:bg-slate-800"}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-800 rounded w-1/4"}),e.jsx("div",{className:"h-8 bg-slate-200 dark:bg-slate-800 rounded w-3/4"}),e.jsx("div",{className:"h-4 bg-slate-200 dark:bg-slate-800 rounded w-full"})]})]},t))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.length>0?a.map((t,s)=>{var x;return e.jsxs(m.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s*.1},className:"group bg-white dark:bg-slate-900 rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-800 hover:shadow-2xl hover:shadow-accent-500/10 hover:border-accent-500/30 transition-all duration-300 flex flex-col h-full",children:[e.jsxs(r,{to:`/blog/${t.slug}`,className:"block relative overflow-hidden h-48",children:[t.coverImageUrl?e.jsx("img",{src:t.coverImageUrl,alt:t.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-300 dark:text-slate-700",children:e.jsx(u,{size:48})}),e.jsx("div",{className:"absolute top-4 left-4 flex gap-2",children:t.tags.slice(0,2).map(h=>e.jsx("span",{className:"px-3 py-1 bg-white/90 dark:bg-black/80 backdrop-blur text-xs font-bold text-slate-900 dark:text-white rounded-full shadow-sm uppercase tracking-wide",children:h},h))})]}),e.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 dark:text-slate-400 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(C,{size:14}),e.jsx("span",{children:new Date(t.publishedAt||t.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(L,{size:14,className:t.likesCount?"text-red-500 fill-red-500":""}),e.jsx("span",{children:t.likesCount||0})]})]}),e.jsx(r,{to:`/blog/${t.slug}`,className:"block mb-3",children:e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white group-hover:text-accent-600 dark:group-hover:text-accent-400 transition-colors line-clamp-2",children:t.title})}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm mb-6 line-clamp-3 flex-1",children:t.summary}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-slate-100 dark:border-slate-800 mt-auto",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-500 text-xs font-bold",children:t.authorId&&typeof t.authorId=="object"?(x=t.authorId.firstName)==null?void 0:x[0]:"U"}),e.jsx("span",{className:"text-xs font-medium text-slate-700 dark:text-slate-300",children:t.authorId&&typeof t.authorId=="object"?t.authorId.firstName:"Unknown"})]}),e.jsxs(r,{to:`/blog/${t.slug}`,className:"flex items-center gap-1 text-sm font-bold text-accent-600 dark:text-accent-400 hover:gap-2 transition-all",children:["Read Post ",e.jsx(S,{size:16})]})]})]})]},t._id)}):e.jsxs("div",{className:"col-span-full text-center py-20",children:[e.jsx("div",{className:"inline-block p-4 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-400 mb-4",children:e.jsx(u,{size:32})}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:"No posts found"}),e.jsx("p",{className:"text-slate-500",children:"Check back later for new content."})]})})]})})};export{T as default};
