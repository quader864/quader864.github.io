import{m as k,u as w,b as y,r as o,j as e,e as v}from"./index-DfdF5YNJ.js";import{S as m}from"./ShopHeader-4FOLjF8Z.js";import{S as b}from"./shopping-bag-Cx2AUWGN.js";import{S as h}from"./shield-DxGYudDz.js";import{m as p}from"./proxy-BWIbuW6O.js";import{C}from"./circle-check-C80CzzVF.js";import{C as S}from"./credit-card-Dpk95dtn.js";import{L as u}from"./lock-BQ41qJa6.js";import{A as $}from"./arrow-right-DTUOG6Dc.js";import"./search-DWRZTmvS.js";import"./index-De9MC1Jq.js";import"./trash-2-CTLJ2tFn.js";const G=()=>{const{cart:i,cartTotal:r,placeOrder:j}=k(),{user:z}=w(),n=y(),[d,c]=o.useState(!1),[s,x]=o.useState(1),[t,f]=o.useState({cardName:"",cardNumber:"",exp:"",cvc:""});if(i.length===0&&s!==3)return e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 font-sans selection:bg-emerald-500/30",children:[e.jsx(m,{}),e.jsxs("div",{className:"pt-40 pb-20 px-4 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-100 dark:bg-slate-900 rounded-full flex items-center justify-center mx-auto mb-6 text-slate-300 dark:text-slate-700",children:e.jsx(b,{size:40})}),e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-8",children:"Looks like you haven't added anything yet."}),e.jsx("button",{onClick:()=>n("/shop"),className:"px-8 py-3 bg-emerald-600 text-white rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-600/20",children:"Go to Shop"})]})]});const g=async a=>{a.preventDefault(),c(!0);try{await j({total:r,paymentMethod:"Credit Card"}),x(3)}catch(N){console.error(N)}finally{c(!1)}},l=a=>{f({...t,[a.target.name]:a.target.value})};return e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 font-sans selection:bg-emerald-500/30",children:[e.jsx(m,{}),e.jsx("div",{className:"pt-28 pb-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-4 md:p-6 border border-slate-200 dark:border-slate-800 shadow-sm mb-8 flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{className:"text-emerald-600",size:24}),e.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-lg",children:"Secure Checkout"})]}),e.jsxs("div",{className:"flex items-center gap-2 md:gap-4 text-sm text-slate-500 font-medium",children:[e.jsxs("div",{className:`flex items-center gap-2 ${s>=1?"text-emerald-600 dark:text-emerald-400":""}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs border ${s>=1?"border-emerald-600 bg-emerald-50 dark:bg-emerald-900/20":"border-slate-300 dark:border-slate-700"}`,children:"1"}),e.jsx("span",{className:s===1?"font-bold":"",children:"Review"})]}),e.jsx("div",{className:"w-8 h-px bg-slate-200 dark:bg-slate-700"}),e.jsxs("div",{className:`flex items-center gap-2 ${s>=2?"text-emerald-600 dark:text-emerald-400":""}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs border ${s>=2?"border-emerald-600 bg-emerald-50 dark:bg-emerald-900/20":"border-slate-300 dark:border-slate-700"}`,children:"2"}),e.jsx("span",{className:s===2?"font-bold":"",children:"Payment"})]}),e.jsx("div",{className:"w-8 h-px bg-slate-200 dark:bg-slate-700"}),e.jsxs("div",{className:`flex items-center gap-2 ${s>=3?"text-emerald-600 dark:text-emerald-400":""}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs border ${s>=3?"border-emerald-600 bg-emerald-50 dark:bg-emerald-900/20":"border-slate-300 dark:border-slate-700"}`,children:"3"}),e.jsx("span",{className:s===3?"font-bold":"",children:"Done"})]})]})]}),s===3?e.jsxs(p.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white dark:bg-slate-900 rounded-3xl p-12 text-center border border-slate-200 dark:border-slate-800 shadow-xl",children:[e.jsx("div",{className:"w-24 h-24 bg-emerald-100 dark:bg-emerald-900/20 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(C,{size:48,className:"text-emerald-600 dark:text-emerald-500"})}),e.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-4",children:"Order Confirmed!"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-8 max-w-md mx-auto",children:"Thank you for your purchase. You can now access your courses and downloads in your dashboard."}),e.jsx("button",{onClick:()=>n("/shop/dashboard"),className:"px-8 py-4 bg-emerald-600 text-white rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-600/20",children:"Go to My Dashboard"})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"md:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-6 border border-slate-200 dark:border-slate-800 shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(b,{size:20})," Order Summary"]}),e.jsx("div",{className:"space-y-4",children:i.map(a=>e.jsxs("div",{className:"flex gap-4 p-4 bg-slate-50 dark:bg-slate-950 rounded-xl border border-slate-100 dark:border-slate-800/50",children:[e.jsx("div",{className:"w-16 h-16 bg-white dark:bg-slate-800 rounded-lg overflow-hidden shrink-0 border border-slate-200 dark:border-slate-700",children:e.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white truncate",children:a.title}),e.jsx("p",{className:"text-sm text-slate-500 capitalize",children:a.type})]}),e.jsxs("div",{className:"text-right whitespace-nowrap",children:[e.jsxs("div",{className:"font-bold text-slate-900 dark:text-white",children:["$",a.price]}),e.jsxs("div",{className:"text-xs text-slate-500",children:["Qty: ",a.quantity]})]})]},a.id))})]}),s===2&&e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-900 rounded-2xl p-6 border border-slate-200 dark:border-slate-800 shadow-sm",children:[e.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-6 flex items-center gap-2",children:[e.jsx(S,{size:20})," Payment Details"]}),e.jsxs("form",{id:"payment-form",onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Name on Card"}),e.jsx("input",{required:!0,name:"cardName",value:t.cardName,onChange:l,type:"text",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 outline-none focus:border-emerald-500 transition-colors dark:text-white",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Card Number"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{required:!0,name:"cardNumber",value:t.cardNumber,onChange:l,type:"text",className:"w-full pl-12 pr-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 outline-none focus:border-emerald-500 transition-colors dark:text-white",placeholder:"0000 0000 0000 0000"}),e.jsx(u,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Expiry Date"}),e.jsx("input",{required:!0,name:"exp",value:t.exp,onChange:l,type:"text",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 outline-none focus:border-emerald-500 transition-colors dark:text-white",placeholder:"MM/YY"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"CVC"}),e.jsx("input",{required:!0,name:"cvc",value:t.cvc,onChange:l,type:"text",className:"w-full px-4 py-3 rounded-xl bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 outline-none focus:border-emerald-500 transition-colors dark:text-white",placeholder:"123"})]})]})]})]})]}),e.jsx("div",{className:"md:col-span-1",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-6 border border-slate-200 dark:border-slate-800 shadow-lg sticky top-32",children:[e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-6",children:"Order Summary"}),e.jsxs("div",{className:"space-y-3 mb-6 pb-6 border-b border-slate-100 dark:border-slate-800",children:[e.jsxs("div",{className:"flex justify-between text-slate-600 dark:text-slate-400",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["$",r.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between text-slate-600 dark:text-slate-400",children:[e.jsx("span",{children:"Tax"}),e.jsx("span",{children:"$0.00"})]})]}),e.jsxs("div",{className:"flex justify-between items-end mb-8",children:[e.jsx("span",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Total"}),e.jsxs("span",{className:"text-2xl font-black text-emerald-600 dark:text-emerald-400",children:["$",r.toFixed(2)]})]}),s===1?e.jsxs("button",{onClick:()=>x(2),className:"w-full py-4 bg-emerald-600 text-white rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-600/20 flex items-center justify-center gap-2 transform hover:-translate-y-1",children:["Proceed to Payment ",e.jsx($,{size:18})]}):e.jsxs("button",{form:"payment-form",type:"submit",disabled:d,className:"w-full py-4 bg-emerald-600 text-white rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-600/20 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-wait transform hover:-translate-y-1",children:[d?e.jsx(v,{className:"animate-spin",size:20}):e.jsx(u,{size:18}),d?"Processing...":`Pay $${r.toFixed(2)}`]}),e.jsxs("p",{className:"text-xs text-center text-slate-400 mt-4 flex items-center justify-center gap-1",children:[e.jsx(h,{size:12})," Encrypted Payment"]})]})})]})]})})]})};export{G as default};
