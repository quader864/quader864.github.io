import{w as y,Q as M,z,W as I,y as D,h as u,o as e,A as T,q as f,X as _}from"./index-By5lbZh6.js";import{A as E}from"./arrow-left-C-Bw5Eig.js";import{S as $}from"./save-DZWJ4Ue_.js";import{I as O}from"./info-pK2H9GMU.js";import{L as V}from"./layers-D3GCaT3K.js";import{P as k}from"./plus-BIiLt5_8.js";import{T as q}from"./trash-2-B211Je6J.js";import{C as F}from"./clock-CJXXlemn.js";/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],R=y("grip-vertical",Q);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],W=y("panels-top-left",U),ee=()=>{const{id:d}=M(),m=z(),{addStoreItem:j,updateStoreItem:v,getStoreItem:g}=I(),{user:p}=D(),[x,N]=u.useState("details"),[s,o]=u.useState({title:"",price:0,originalPrice:0,description:"",image:"",tags:[],features:[],type:"course",content:[]}),[l,n]=u.useState([]);u.useEffect(()=>{if(d){const t=g(d);t&&t.type==="course"&&(o(t),n(t.content||[]))}},[d,g]);const w=()=>{const t={id:d||`c_${Date.now()}`,authorId:s.authorId||(p==null?void 0:p._id),title:s.title||"Untitled Course",price:Number(s.price),originalPrice:s.originalPrice?Number(s.originalPrice):void 0,type:"course",image:s.image||"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?auto=format&fit=crop&q=80&w=1000",rating:s.rating||0,reviews:s.reviews||0,tags:typeof s.tags=="string"?s.tags.split(",").map(r=>r.trim()):s.tags||[],description:s.description||"",features:typeof s.features=="string"?s.features.split(`
`).filter(Boolean):s.features||[],content:l};d?v(d,t):j(t),m("/shop/dashboard")},C=()=>{n([...l,{id:`m_${Date.now()}`,title:"New Module",lessons:[]}])},S=(t,r)=>{n(l.map(a=>a.id===t?{...a,title:r}:a))},P=t=>{n(l.filter(r=>r.id!==t))},A=t=>{n(l.map(r=>r.id===t?{...r,lessons:[...r.lessons,{id:`l_${Date.now()}`,title:"New Lesson",duration:"0:00",isCompleted:!1}]}:r))},h=(t,r,a,c)=>{n(l.map(i=>i.id===t?{...i,lessons:i.lessons.map(b=>b.id===r?{...b,[a]:c}:b)}:i))},L=(t,r)=>{n(l.map(a=>a.id===t?{...a,lessons:a.lessons.filter(c=>c.id!==r)}:a))};return e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 pb-20",children:[e.jsx("header",{className:"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 sticky top-0 z-40",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>m("/shop/dashboard"),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors text-slate-500",children:e.jsx(E,{size:20})}),e.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:d?"Edit Course":"Create New Course"})]}),e.jsxs("button",{onClick:w,className:"px-6 py-2 bg-emerald-600 text-white rounded-lg font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-600/20 flex items-center gap-2",children:[e.jsx($,{size:18})," Save Course"]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("aside",{className:"lg:col-span-1 space-y-2",children:[{id:"details",label:"Course Details",icon:O},{id:"curriculum",label:"Curriculum",icon:V},{id:"settings",label:"Settings",icon:W}].map(t=>e.jsxs("button",{onClick:()=>N(t.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all ${x===t.id?"bg-white dark:bg-slate-900 text-emerald-600 shadow-sm border border-emerald-500/30":"text-slate-500 hover:bg-white/50 dark:hover:bg-slate-900/50"}`,children:[e.jsx(t.icon,{size:18})," ",t.label]},t.id))}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(T,{mode:"wait",children:[x==="details"&&e.jsx(f.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Course Title"}),e.jsx("input",{type:"text",value:s.title,onChange:t=>o({...s,title:t.target.value}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl outline-none focus:border-emerald-500 transition-colors text-lg font-semibold dark:text-white",placeholder:"e.g. Master MQL5 Programming"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Price ($)"}),e.jsx("input",{type:"number",value:s.price,onChange:t=>o({...s,price:Number(t.target.value)}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl outline-none focus:border-emerald-500 transition-colors dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Original Price (Compare at)"}),e.jsx("input",{type:"number",value:s.originalPrice||"",onChange:t=>o({...s,originalPrice:Number(t.target.value)}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl outline-none focus:border-emerald-500 transition-colors dark:text-white",placeholder:"Optional"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Cover Image URL"}),e.jsx("input",{type:"text",value:s.image,onChange:t=>o({...s,image:t.target.value}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl outline-none focus:border-emerald-500 transition-colors dark:text-white",placeholder:"https://..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),e.jsx("textarea",{rows:5,value:s.description,onChange:t=>o({...s,description:t.target.value}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl outline-none focus:border-emerald-500 transition-colors dark:text-white",placeholder:"What will students learn?"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Features (One per line)"}),e.jsx("textarea",{rows:4,value:Array.isArray(s.features)?s.features.join(`
`):s.features,onChange:t=>o({...s,features:t.target.value.split(`
`)}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl outline-none focus:border-emerald-500 transition-colors dark:text-white",placeholder:`- 10 Hours of Video
- Source Code Included
- Certificate of Completion`})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Tags (Comma Separated)"}),e.jsx("input",{type:"text",value:Array.isArray(s.tags)?s.tags.join(", "):s.tags,onChange:t=>o({...s,tags:t.target.value.split(",")}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl outline-none focus:border-emerald-500 transition-colors dark:text-white",placeholder:"trading, algo, beginner"})]})]})}),x==="curriculum"&&e.jsxs(f.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Course Modules"}),e.jsxs("button",{onClick:C,className:"px-4 py-2 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-lg font-bold hover:opacity-90 transition-opacity flex items-center gap-2",children:[e.jsx(k,{size:18})," Add Module"]})]}),e.jsxs("div",{className:"space-y-4",children:[l.map((t,r)=>e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 flex items-center gap-3 border-b border-slate-200 dark:border-slate-800",children:[e.jsx(R,{size:20,className:"text-slate-400 cursor-grab"}),e.jsxs("span",{className:"font-bold text-slate-500",children:["Module ",r+1,":"]}),e.jsx("input",{type:"text",value:t.title,onChange:a=>S(t.id,a.target.value),className:"bg-transparent border-none outline-none font-bold text-slate-900 dark:text-white flex-1 focus:ring-0"}),e.jsx("button",{onClick:()=>P(t.id),className:"text-slate-400 hover:text-red-500 p-2",children:e.jsx(q,{size:18})})]}),e.jsxs("div",{className:"p-4 space-y-3",children:[t.lessons.map((a,c)=>e.jsxs("div",{className:"flex items-center gap-3 pl-8 group",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-400 font-bold text-xs shrink-0",children:c+1}),e.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsx("input",{type:"text",value:a.title,onChange:i=>h(t.id,a.id,"title",i.target.value),className:"md:col-span-2 bg-slate-50 dark:bg-slate-950 px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-800 outline-none focus:border-emerald-500 dark:text-white text-sm",placeholder:"Lesson Title"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(F,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",value:a.duration,onChange:i=>h(t.id,a.id,"duration",i.target.value),className:"w-full bg-slate-50 dark:bg-slate-950 pl-8 pr-3 py-2 rounded-lg border border-slate-200 dark:border-slate-800 outline-none focus:border-emerald-500 dark:text-white text-sm",placeholder:"00:00"})]}),e.jsx("button",{onClick:()=>L(t.id,a.id),className:"p-2 text-slate-300 hover:text-red-500 transition-colors",children:e.jsx(_,{size:18})})]})]})]},a.id)),e.jsxs("button",{onClick:()=>A(t.id),className:"ml-8 mt-2 text-sm font-bold text-emerald-600 dark:text-emerald-400 hover:underline flex items-center gap-1",children:[e.jsx(k,{size:14})," Add Lesson"]})]})]},t.id)),l.length===0&&e.jsx("div",{className:"text-center py-12 border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-xl text-slate-500",children:'No modules yet. Click "Add Module" to start building your curriculum.'})]})]}),x==="settings"&&e.jsx("div",{className:"text-center py-20 text-slate-500",children:"Settings panel placeholder (SEO, Visibility, etc.)"})]})})]})]})};export{ee as default};
