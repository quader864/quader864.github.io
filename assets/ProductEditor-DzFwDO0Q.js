import{Q as m,z as u,W as p,y as h,h as i,o as e}from"./index-J9iKmyaX.js";import{A as g}from"./arrow-left-7hwDlbql.js";import{S as f}from"./save-BbjUSPep.js";import{U as k}from"./upload-DyjfFh0E.js";import{F as j}from"./file-code-YdpJ48rm.js";import{C as v}from"./circle-check-big-DzCSpaNm.js";const z=()=>{const{id:r}=m(),d=u(),{addStoreItem:n,updateStoreItem:c,getStoreItem:o}=p(),{user:l}=h(),[t,s]=i.useState({title:"",price:0,originalPrice:0,description:"",image:"",tags:[],features:[],type:"digital"});i.useEffect(()=>{if(r){const a=o(r);a&&a.type==="digital"&&s(a)}},[r,o]);const x=()=>{const a={id:r||`p_${Date.now()}`,authorId:t.authorId||(l==null?void 0:l._id),title:t.title||"Untitled Product",price:Number(t.price),originalPrice:t.originalPrice?Number(t.originalPrice):void 0,type:"digital",image:t.image||"https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&q=80&w=1000",rating:t.rating||0,reviews:t.reviews||0,tags:typeof t.tags=="string"?t.tags.split(",").map(b=>b.trim()):t.tags||[],description:t.description||"",features:typeof t.features=="string"?t.features.split(`
`).filter(Boolean):t.features||[]};r?c(r,a):n(a),d("/shop/dashboard")};return e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 pb-20",children:[e.jsx("header",{className:"bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 sticky top-0 z-40",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 h-16 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>d("/shop/dashboard"),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors text-slate-500",children:e.jsx(g,{size:20})}),e.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:r?"Edit Product":"Create New Product"})]}),e.jsxs("button",{onClick:x,className:"px-6 py-2 bg-emerald-600 text-white rounded-lg font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-600/20 flex items-center gap-2",children:[e.jsx(f,{size:18})," Save Product"]})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm space-y-6",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 border-b border-slate-100 dark:border-slate-800 pb-2",children:"Product Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Product Name"}),e.jsx("input",{type:"text",value:t.title,onChange:a=>s({...t,title:a.target.value}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl outline-none focus:border-emerald-500 transition-colors dark:text-white font-medium",placeholder:"e.g. Trend Pro Indicator"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Price ($)"}),e.jsx("input",{type:"number",value:t.price,onChange:a=>s({...t,price:Number(a.target.value)}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl outline-none focus:border-emerald-500 transition-colors dark:text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Original Price (Compare at)"}),e.jsx("input",{type:"number",value:t.originalPrice||"",onChange:a=>s({...t,originalPrice:Number(a.target.value)}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl outline-none focus:border-emerald-500 transition-colors dark:text-white",placeholder:"Optional"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Image URL"}),e.jsx("input",{type:"text",value:t.image,onChange:a=>s({...t,image:a.target.value}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl outline-none focus:border-emerald-500 transition-colors dark:text-white"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Description"}),e.jsx("textarea",{rows:4,value:t.description,onChange:a=>s({...t,description:a.target.value}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl outline-none focus:border-emerald-500 transition-colors dark:text-white"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Key Features (One per line)"}),e.jsx("textarea",{rows:3,value:Array.isArray(t.features)?t.features.join(`
`):t.features,onChange:a=>s({...t,features:a.target.value.split(`
`)}),className:"w-full px-4 py-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-xl outline-none focus:border-emerald-500 transition-colors dark:text-white",placeholder:`- Multi-timeframe analysis
- Push notifications`})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-6 border-b border-slate-100 dark:border-slate-800 pb-2",children:"Digital Files"}),e.jsxs("div",{className:"border-2 border-dashed border-slate-200 dark:border-slate-800 rounded-xl p-8 text-center hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors cursor-pointer group",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-emerald-100 dark:group-hover:bg-emerald-900/30 transition-colors",children:e.jsx(k,{size:32,className:"text-slate-400 group-hover:text-emerald-600 dark:group-hover:text-emerald-400"})}),e.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-1",children:"Click to Upload Files"}),e.jsx("p",{className:"text-slate-500 text-sm",children:"Supported formats: .ex5, .ex4, .zip, .pdf (Max 50MB)"})]}),e.jsx("div",{className:"mt-6 space-y-3",children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-950 rounded-xl border border-slate-100 dark:border-slate-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-lg",children:e.jsx(j,{size:20})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-slate-900 dark:text-white text-sm",children:"TrendScout_v1.0.ex5"}),e.jsx("div",{className:"text-xs text-slate-500",children:"2.4 MB â€¢ Uploaded just now"})]})]}),e.jsxs("div",{className:"text-green-500 flex items-center gap-1 text-sm font-bold",children:[e.jsx(v,{size:14})," Ready"]})]})})]})]})]})};export{z as default};
