<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>User Profile</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"><style>body{background:#f4f4f4;min-height:100vh;margin:0;padding:2rem;font-family:sans-serif}.container{background:#fff;border-radius:8px;max-width:600px;margin:auto;padding:2rem;box-shadow:0 2px 10px #0000001a}.loading-spinner{border:2px solid #0000001a;border-top-color:#0d6efd;border-radius:50%;width:1rem;height:1rem;animation:1s ease-in-out infinite spin;display:inline-block}@keyframes spin{to{transform:rotate(360deg)}}</style></head><body> <div class="container" id="profile"> <div id="loading"> <span class="loading-spinner"></span> Loading profile... </div> <div id="profile-content" style="display:none"></div> </div> <script>let API_BASE_URL="https://api-verifier.onrender.com",FRONTEND_BASE_URL="https://quader864.github.io";function showAlert(e,t=!1){let o=document.createElement("div");o.className=`alert alert-${t?"success":"danger"} position-fixed top-0 start-50 translate-middle-x mt-3`,o.innerHTML=`<div class="d-flex justify-content-between align-items-center">
                              <span>${e}</span>
                              <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                            </div>`,document.body.prepend(o),setTimeout(()=>{o.remove()},5e3)}async function verifySession(){try{let e=await fetch(`${API_BASE_URL}/verify`,{method:"POST",credentials:"include"}),t=await e.json();if(!e.ok||"authorized"!==t.status)throw Error("Unauthorized");return t.user}catch(e){console.error("Session verification failed:",e),window.location.href=`${FRONTEND_BASE_URL}/login.html`}}async function loadProfile(){let e=await verifySession();if(!e)return;document.getElementById("loading").style.display="none";let t=document.getElementById("profile-content");t.style.display="block",t.innerHTML=`
        <h2>User Profile</h2>
        <div class="mb-3">
          <p><strong>Name:</strong> ${e.firstName} ${e.lastName}</p>
          <p><strong>Email:</strong> ${e.email}</p>
        </div>
        <button id="logoutBtn" class="btn btn-danger">Logout</button>
      `,document.getElementById("logoutBtn").addEventListener("click",async()=>{try{document.getElementById("profile-content").style.display="none",document.getElementById("loading").style.display="block",document.getElementById("loading").textContent="Logging out...",(await fetch(`${API_BASE_URL}/logout`,{method:"POST",credentials:"include"})).ok?(showAlert("Logged out successfully",!0),window.location.href=`${FRONTEND_BASE_URL}/login.html`):(showAlert("Logout failed",!1),document.getElementById("loading").style.display="none",document.getElementById("profile-content").style.display="block")}catch(e){console.error("Logout error:",e),showAlert("Network error during logout",!1),document.getElementById("loading").style.display="none",document.getElementById("profile-content").style.display="block"}})}document.addEventListener("DOMContentLoaded",loadProfile);</script> </body></html>